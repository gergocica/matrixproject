<!DOCTYPE html>

<head>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

<style>

* {box-sizing: border-box} 

.legend, .legend2 
{ position:relative; width:830px; margin-left:auto; margin-right:auto; padding:3px 4px 5px 6px; background-color:azure; color:black; 
  font-family: 'Inter', sans-serif; font-size:14px; border: 1px solid green  }

.legend { top:4px; z-index:+2 }

.legend2 { top:-90px; z-index:+1 }

.frame
{ position:relative; top:-28px; width:830px; margin-left:auto; margin-right:auto; border:0 }

.input
  { position:relative; top:-100px; margin:20px auto; max-width:700px; text-align:center; 
  font-family: 'Inter', sans-serif; font-size:14px; font-weight:bold }

</style>
 </head> 

<body>

<div class="legend">
<strong>Sp:</strong> Sponsored by / <strong>IN:</strong> Initials / <strong>Last Pay:</strong> Last payment date / <strong>A?:</strong> Id is active? / 
<strong>PS:</strong> Pos. under sponsor / <strong>GL:</strong> Global level /<br> 
<strong>L1:</strong> No. of referrals on L1 / <strong>L3:</strong> No. of IDs on L3 / <strong>DL:</strong> Total no. of downline IDs / 
<strong>$M:</strong> Maximum payout after ... IDs /<br>
<strong>$R:</strong> Real payout after ... IDs / <strong>L?:</strong> Days left until inactive / <strong>I?:</strong> Days since inactive / <strong>üî≤:</strong> All active ID-s on L3
</div>

<div class="frame" style="z-index:+1">
<iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRSSzQsM6izXxxxQNCQCXCnbWwQLid-GFLZSel39SnElJo6ZwK1fywqBE9Y7IukwcxVsmNlEvDETrwQ/pubhtml?gid=1414948812&amp;single=true&amp;widget=true&amp;headers=false&rm=minimal"
style="height:54px; width:100%">
</iframe>
</div>

<div class="frame">
    <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRSSzQsM6izXxxxQNCQCXCnbWwQLid-GFLZSel39SnElJo6ZwK1fywqBE9Y7IukwcxVsmNlEvDETrwQ/pubhtml?gid=900266326&range=A3:T1000&single=true&widget=true&headers=false&rm=minimal"
      style="position:relative; top:-32px; height:499px; width:100%">
    </iframe>
  </div>

<div class="legend2">
Use a device with a screen width of at least 830 pixels for the best viewing experience.<br>
If using a phone to view a üî≤ link, hold your phone in a horizontal position (landscape view).
</div>

<div class="input">
  üîç Lookup Full Data for an ID<br>
  <input id="idInput" type="number" min="1" placeholder="Enter ID" style="margin-top: 6px; width:80px; padding: 4px 4px; font-size: 14px;">
  <button onclick="fetchRow()" style="margin-top: 6px; padding: 4px 8px; font-family: 'Inter', sans-serif; font-size: 14px;">Show Data</button>
  <div id="rowOutput" style="margin-top: 20px;"></div>
</div>

<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbz7xy_6Iyh8LFs3WgKOJ8dt78q3Zn1uJOKhM4xz_D3TcGB2J3D7jSFCPX9vmvvC8sjK/exec";

  async function fetchRow() {
    const id = document.getElementById('idInput').value.trim();
    if (!id) return;

    try {
      const response = await fetch(`${scriptURL}?mode=json&row=${parseInt(id) + 2}`);
      const data = await response.json();

      // 1Ô∏è‚É£ Header map (long labels for desktop)
      const headerMap = {
        "IN": "Initials",
        "Join Date": "Join Date",
        "Last Pay": "Last Payment Date",
        "Sp": "Sponsored by",
        "A?": "ID is Active?",
        "PS": "Pos. under sponsor",
        "GL": "Global level",
        "L1": "No. of referrals on L1",
        "L3": "No. of IDs on L3",
        "DL": "Total no. of downline IDs",
        "Placement path": "Placement Path",
        "$M": "Maximum payout after ... IDs",
        "$R": "Real payout after ... IDs",
        "Active L1-s": "Active L1 IDs",
        "Active L3-s": "Active L3 IDs",
        "L?": "Days left until inactive",
       "I?": "Days since inactive",
  };  

      // 2Ô∏è‚É£ Full label layout (for wide screens)
      const fullLabelsHtml = `
        <div style="background:#f9f9f9; padding:12px; border:1px solid #ccc; border-radius:8px;">
          <h4 style="margin-top:0;">ID ${id}</h4>
          <table style="width:100%; border-collapse:separate">
            ${data.headers.map((header, i) => {
              const label = headerMap[header] || header;
              const value = (header === "Active L3-s" && data.fullL3) ? data.fullL3 : data.values[i];
              return `
                <tr>
                  <td style="width:220px; padding:4px; border:1px solid #ddd;"><strong>${label}</strong></td>
                  <td style="padding:4px; border:1px solid #ddd;">${value}</td>
                </tr>`;
            }).join('')}
          </table>
        </div>`;

      // 3Ô∏è‚É£ Short header layout (for small screens)
      const shortLabelsHtml = `
        <div style="background:#f9f9f9; padding:12px; border:1px solid #ccc; border-radius:8px;">
          <h4 style="margin-top:0;">ID ${id}</h4>

          <div style="font-family: 'Inter', sans-serif; font-size: 14px; color: #666; margin-bottom: 10px">
<strong>IN:</strong> Initials / <strong>Last Pay:</strong> Last payment date / <strong>Sp:</strong> Sponsored by /<br> 
<strong>A?:</strong> Id is active? / <strong>PS:</strong> Pos. under sponsor / <strong>GL:</strong> Global level / <br> 
<strong>L1:</strong> No. of referrals on L1 / <strong>L3:</strong> No. of IDs on L3 /<br> 
<strong>DL:</strong> Total no. of downline IDs / <strong>$M:</strong> Maximum payout after ... IDs /<br>
<strong>$R:</strong> Real payout after ... IDs / <strong>L?:</strong> Days left until inactive /<br> 
<strong>I?:</strong> Days since inactive
</div>

         <table style="width:100%; border-collapse:collapse;">
            ${data.headers.map((header, i) => {
              const value = (header === "Active L3-s" && data.fullL3) ? data.fullL3 : data.values[i];
              return `
                <tr>
                  <td style="padding:4px; border:1px solid #ddd;"><strong>${header}</strong></td>
                  <td style="padding:4px; border:1px solid #ddd;">${value}</td>
                </tr>`;
            }).join('')}
          </table>
        </div>`;

      // 4Ô∏è‚É£ Responsive render
      const isMobile = window.innerWidth <= 480;
      document.getElementById("rowOutput").innerHTML = isMobile ? shortLabelsHtml : fullLabelsHtml;

    } catch (err) {
      document.getElementById("rowOutput").innerHTML =
        `<div style="color:red;">‚ùå Error: Could not fetch data for ID "${id}".</div>`;
      console.error(err);
    }
  }
</script>

</body>
</html>                           
